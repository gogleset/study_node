# 로그

프로그램의 상태를 관찰할 수 있도록 프로그램이 제공하는 정보로서 대부분 텍스트 파일 형태로 존재한다.

## winston

node.js에서 로그를 파일 형태로 기록할 수 있는 기능을 재공하는 패키지.

1년 내내 무중단을 원칙으로하는 백엔드 시스템 특성상 상당히 많은 양의 로그가 생성되고, 
모든 로그를 하나의 파일에 기록하게 되면 특정 파일의 용량이 매우 커지게 된다.

이를 방지하기 위해서 대부분의 로그 패키지들은 날짜별로 파일 생성, 지정한 용량보다 내용이 커질 경우 파일 분할 등의 기능을 기본으로 제공한다.

```shell
npm install --save winston, winston-daily-rotate-file
```

## 로그 수준

프로그램이 겪는 어떤 상황에 대한 심각도를 의미함.

로그 시스템 자체적으로 수준을 정해 놓거나 개발자가 필요에 따라 수준을 정한다.

winston은 개발자가 직접 정하는 형태

### 로그 수준의 예시

숫자가 낮을 수록 상황이 심각하거나 중요도가 높음을 의미.

시스템 설정상에서 기록으로 남길 로그 수준을 2라고 지정한 경우 3,4,5 수준의 로그는 기록되지 않는다.

대부분 개발과정에서는 4 혹은 5로 지정하고 완성 후 실제 서비스로 전환되면서 0이나 1로 변경한다.

| 수준 | 이름 | 의미 |
|---|---|---|
| 0 | error | 시스템에 다운될 정도의 심각한 에러가 발생함 |
| 1 | warn | 에러가 발생한 것은 아니지만 비정상 동작을 감지했을 때를 의미(경고) |
| 2 | info | 프로그램이 동작하는 과정에서 발생하는 주요 정보들을 출력 |
| 3 | http | 통신 과정의 기록 |
| 4 | verbose | 개발자가 남기는 기록 |
| 5 | debug | 개발자가 프로그램의 흐름을 추적할 용도로 변수값들을 기록하기 위해 사용  |


## 날짜 처리

### 패키지 설치

```shell
npm install --save dayjs
```