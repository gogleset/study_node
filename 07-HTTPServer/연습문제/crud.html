<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>일반 링크</h1>
    <a href="http://192.168.0.23:3216">페이지 이동을 통한 직접 백엔드 접속</a>
    <hr>
    <h1>Ajax</h1>
    <button id="get" type="button">get(Read)</button>
    <button id="post" type="button">post(Create)</button>
    <button id="put" type="button">put(Update)</button>
    <button id="delete" type="button">delete(Delete)</button>
    <h1 id="console"></h1>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        // get(Read)
        document.getElementById('get').addEventListener('click', e => {
            e.preventDefault();
            (async () => {
                try {
                    const response = await axios.get('http://192.168.0.23:3217/');                    
                } catch (e) {
                    const errorMsg =
                        "[" + error.response.status + "]" + error.response.statusText;
                    alert(errorMsg);
                    return;
                }
                document.getElementById('console').innerHTML = response.data.message;
            })();
        });
        // post(Create)
        document.getElementById('post').addEventListener('click', e => {
            e.preventDefault();
            (async () => {
                try {
                    const response = await axios.post('http://192.168.0.23:3217/');
                } catch (e) {
                    const errorMsg =
                        "[" + error.response.status + "]" + error.response.statusText;
                    alert(errorMsg);
                    return;
                }
                document.getElementById('console').innerHTML = response.data.message;
            })();
        });
        // put(Update)
        document.getElementById('put').addEventListener('click', e => {
            e.preventDefault();
            (async () => {
                try {
                    const response = await axios.put('http://192.168.0.23:3217/');
                    document.getElementById('console').innerHTML = response.data.message;
                } catch (e) {
                    const errorMsg =
                        "[" + error.response.status + "]" + error.response.statusText;
                    alert(errorMsg);
                    return;
                }
            })();
        });
        // delete(Delete)
        document.getElementById('delete').addEventListener('click', e => {
            e.preventDefault();
            (async () => {
                try {
                    const response = await axios.delete('http://192.168.0.23:3217/');
                    document.getElementById('console').innerHTML = response.data.message;
                } catch (e) {
                    const errorMsg =
                        "[" + error.response.status + "]" + error.response.statusText;
                    alert(errorMsg);
                    return;
                }
            })();
        });

    </script>
</body>

</html>